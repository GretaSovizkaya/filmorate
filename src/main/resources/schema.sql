create TABLE IF NOT EXISTS USERS
(
	USER_ID INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	USER_NAME VARCHAR(255) NOT NULL,
	EMAIL VARCHAR(255) NOT NULL,
	LOGIN VARCHAR(255) NOT NULL,
	BIRTHDAY DATE,
	CONSTRAINT UNIQUE_EMAIL UNIQUE (EMAIL),
    CONSTRAINT UNIQUE_LOGIN UNIQUE (LOGIN)
);

create TABLE IF NOT EXISTS RATING_MPA
(
	RATING_ID INT PRIMARY KEY AUTO_INCREMENT,
	RATING_NAME VARCHAR(100)
);


create TABLE IF NOT EXISTS FILMS
(
	FILM_ID INT PRIMARY KEY AUTO_INCREMENT,
	FILM_NAME VARCHAR(255) NOT NULL,
	DESCRIPTION VARCHAR(255),
	RELEASE_DATE DATE,
    DURATION INT,
    GENRE VARCHAR(50)
);

create TABLE IF NOT EXISTS GENRE
(
	GENRE_ID INT PRIMARY KEY AUTO_INCREMENT,
	NAME_GENRE VARCHAR(50)
);

create TABLE IF NOT EXISTS GENRES_FILM (
	FILM_ID INT REFERENCES FILMS (FILM_ID),
	GENRE_ID INT REFERENCES GENRE (GENRE_ID)
);

create TABLE IF NOT EXISTS LIKES
(
	FILM_ID INT REFERENCES FILMS (FILM_ID),
	USER_ID INT REFERENCES USERS (USER_ID)
);


create TABLE IF NOT EXISTS FRIENDS
(
	USER_ID INT REFERENCES USERS (USER_ID),
	FRIEND_ID INT REFERENCES USERS (USER_ID),
	STATUS VARCHAR(50)
);